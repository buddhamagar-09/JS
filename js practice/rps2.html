<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            background-color: rgb(194, 194, 194);
            display: flex;
            align-items: center;
            justify-content: center;
            height: 95vh;
        }

        .container {
            height: 500px;
            width: 550px;
            background-color: whitesmoke;
            border-radius: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        button {
            padding: 10px 15px;
            background-color: red;
            color: white;
            margin-bottom: 20px;
            border-radius: 15px;
            cursor: pointer;
        }

        p {
            font-size: larger;
            /* font-weight: bold; */
            margin-bottom: 50px;
        }

        .heading {
            font-size: 25px;
            color: blue;
        }
    </style>
</head>

<body>
    <section class="container">
        <p class="heading"><b>This is a 15 round Rock Paper and Scissor game.</b></p>
        <h1>Rock Paper Scissors</h1>
        <div class="options">
            <button onclick="mainFunc('rock')">Rock</button>
            <button onclick="mainFunc('paper')">Paper</button>
            <button onclick="mainFunc('scissors')">Scissors</button>
        </div>
        <div>
            <span class="user-choice"></span>
            <span class="computer-choice"></span>
        </div>
        <p class="result"></p>
        <div>
            <span class="user-score"></span>
            <span class="computer-score"></span>
        </div>
    </section>

    <script>
        let round = 0;
        let maxround = 15;
        let user_count = 0;
        let computer_count = 0;

        const mainFunc = (type) => {
            let user_choice = type;
            let arr = ["rock", "paper", "scissors"];
            let computer_choice = arr[Math.floor(Math.random() * arr.length)];

            document.querySelector(".user-choice").innerHTML = `Your choice: <b>${user_choice}</b>&nbsp&nbsp`;
            document.querySelector(".computer-choice").innerHTML = `Computer choice: <b>${computer_choice}</b>`;
            if (user_choice === computer_choice) {
                document.querySelector(".result").innerHTML = "Its a draw";
                document.querySelector(".result").style.color = "gray";

            }
            else if (user_choice === "rock" && computer_choice === "scissors" ||
                user_choice === "paper" && computer_choice === "rock" ||
                user_choice === "scissors" && computer_choice === "paper") {
                document.querySelector(".result").innerHTML = "<b> You Won</b>";
                document.querySelector(".result").style.color = "green";
                user_count++;

            }
            else {
                document.querySelector(".result").innerHTML = "<b>You Loose</b>";
                document.querySelector(".result").style.color = "red";
                computer_count++;

            }
            document.querySelector(".user-score").innerHTML = `Your Score: ${user_count} || `;
            document.querySelector(".computer-score").innerHTML = `Computer: ${computer_count}`;

            round++;
            if (round >= maxround) {
                if (user_count > computer_count) {
                    window.alert(`You have won this Round by ${user_count} - ${computer_count}`);
                }
                else if (computer_count > user_count) {
                    window.alert(`Computer has won this Round by ${computer_count} - ${user_count}`);
                }
                else {
                    window.alert(`This round is draw by ${user_count} - ${computer_count}`);
                }

                round = 0;
                user_count = 0;
                computer_count = 0;
                document.querySelector(".result").innerHTML = "";
                document.querySelector(".user-choice").innerHTML = "";
                document.querySelector(".computer-choice").innerHTML = "";
                document.querySelector(".user-score").innerHTML = `Your Score: ${user_count}`;
                document.querySelector(".computer-score").innerHTML = `Computer Score: ${computer_count}`;

            }
        }


    </script>
</body>

</html>